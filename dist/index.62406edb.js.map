{"mappings":"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","sources":["src/js/controller.js"],"sourcesContent":["const table = document.querySelector('.table');\nconst balanceField = document.querySelector('#current-balance')\n\nclass data{\n    constructor(type,desp,amount){\n        this.id = String(new Date().getTime()).slice(6);\n        this.type = type;\n        this.desp = desp;\n        this.amount = type === 'Income' ? +amount : -amount;\n    }\n}\n\nclass App{\n    \n    #balance;\n    #movements;\n    constructor(){\n        if(localStorage.getItem('balance')){\n            this.#balance = Number(localStorage.getItem('balance'));\n        }else{\n            this.#balance = 0;\n            localStorage.setItem('balance',0)\n        }\n\n        if(localStorage.getItem('movements')){\n            this.#movements = JSON.parse(localStorage.getItem('movements'));\n        }else{\n            this.#movements = [];\n            localStorage.setItem('movements',[])\n        }\n        this.addHandler();\n        this.renderBalance();\n        this.onLoad();\n    }\n\n    updateBalance(amount){\n        this.#balance += amount;\n\n        localStorage.setItem('balance',this.#balance);\n    }\n    onLoad(){\n        this.#movements.forEach(ele=>{\n            this.renderData(ele)\n        })\n    }\n    renderData(_data){\n        const  markup = `<tr class=\"data-field\" data-id=${_data.id}}>\n        <td class=\"type-field\">${_data.type}</td>\n        <td class=\"description-field\">${_data.desp}</td>\n        <td class=\"amount-field\">${_data.amount}</td>\n        </tr> `;\n        table.insertAdjacentHTML('beforeend',markup);\n    }\n    updateMovements(data){\n\n        this.#movements.push(data);\n        localStorage.setItem('movements',JSON.stringify(this.#movements))\n        const movement = this.#movements.at(-1)\n        this.updateBalance(movement.amount)\n        \n\n        this.renderData(movement);\n        this.renderBalance();;\n    }\n\n    renderBalance(){\n        balanceField.textContent = this.#balance;\n        this.#balance >= 0 ? balanceField.style.color = `green` : balanceField.style.color = `red`;\n    }\n    addData(e){\n        e.preventDefault();\n        this.updateMovements(new data(\n            e.target.children[0].value,\n            e.target.children[1].value,\n            e.target.children[2].value));\n\n    }\n    addHandler(){\n        document.querySelector('#form').addEventListener('submit',this.addData.bind(this));\n    }\n}\nconst app = new App();\n"],"names":[],"version":3,"file":"index.62406edb.js.map","sourceRoot":"/__parcel_source_root/"}