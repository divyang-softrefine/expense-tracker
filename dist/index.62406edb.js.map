{"mappings":"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","sources":["src/js/controller.js"],"sourcesContent":["const table = document.querySelector('.table');\nconst balanceField = document.querySelector('#current-balance');\nconst inputType = document.querySelector('#inputType');\nconst inputDesp = document.querySelector('#inputDesp');\nconst inputPrice = document.querySelector('#inputPrice');\nconst inputSubmit = document.querySelector('#submitBtn')\nclass data{\n    constructor(type,desp,amount){\n        this.id = String(new Date().getTime()).slice(6);\n        this.type = type;\n        this.desp = desp;\n        this.amount = type === 'Income' ? +amount : -amount;\n    }\n}\n\nclass App{\n    \n    #balance;\n    #movements;\n    constructor(){\n\n        if(localStorage.getItem('movements')){\n            this.#movements = JSON.parse(localStorage.getItem('movements'));\n        }else{\n            this.#movements = [];\n            localStorage.setItem('movements',[])\n        }\n\n        this.loadBalance()\n        this.renderBalance();\n        this.onLoad();\n        this.addHandler();\n\n        // console.log(this.#balance,this.#movements)\n    }\n    loadBalance(){\n        this.#balance = 0;\n        this.#movements.forEach(ele=>this.#balance+=ele.amount);\n\n        localStorage.setItem(`balance`,JSON.stringify(this.#balance))\n    }\n    updateBalance(amount){\n        this.#balance += amount;\n\n        localStorage.setItem('balance',this.#balance);\n    }\n    onLoad(){\n        let markup = `<thead>\n        <tr>\n            <th>Type</th>\n            <th>Description</th>\n            <th>Amount</th>\n            <th>Edit</th>\n        </tr>\n    </thead>`;\n        table.innerHTML = markup;\n        this.#movements.forEach(ele=>this.renderData(ele));\n    }\n    renderData(_data){\n        const  markup = `<tr class=\"data-field\" data-id=${_data.id}>\n        <td class=\"type-field\">${_data.type}</td>\n        <td class=\"description-field\">${_data.desp}</td>\n        <td class=\"amount-field\">${_data.amount}</td>\n        <td><button id='del-${_data.id}'>Delete</button></td>\n        </tr> `;\n        table.insertAdjacentHTML('beforeend',markup);\n        this.addDeleteButtonHandler(_data.id);\n    }\n    updateMovements(data){\n        this.#movements.push(data);\n        localStorage.setItem('movements',JSON.stringify(this.#movements))\n        const movement = this.#movements.at(-1)\n        this.updateBalance(movement.amount)\n        this.renderData(movement);\n        this.renderBalance();\n    }\n\n    renderBalance(){\n        balanceField.textContent = this.#balance;\n        this.#balance >= 0 ? balanceField.style.color = `green` : balanceField.style.color = `red`;\n    }\n    addData(e){\n        e.preventDefault();\n\n        if([...e.target.children].find(ele=>ele.value==='')){alert('Please fill all details necessary');}\n        else{\n        this.updateMovements(new data(\n            e.target.children[0].value,\n            e.target.children[1].value,\n            e.target.children[2].value));\n        \n        }\n        this.clearInput();\n    }\n    clearInput(){\n        document.querySelectorAll('input').forEach(ele=>{\n            if(ele.type!=='submit') ele.value = '';\n        })\n    }\n    deleteMovement(id){\n        for(let i = 0;i < this.#movements.length; i++){\n            if(this.#movements[i].id === id)\n            {   this.#balance -= +this.#movements[i].amount;\n                localStorage.setItem('balance',this.#balance);\n                this.#movements.splice(i,1);\n                localStorage.setItem('movements',JSON.stringify(this.#movements))\n                break;\n            }\n        }\n        // console.log(document.getElementsByClassName('data-field'),`helllo`);\n        this.renderBalance();\n    }\n\n    color(){\n        inputSubmit.style.background = inputType.style.background = inputDesp.style.borderColor = inputPrice.style.borderColor = inputType.value==='Income' ? 'green' : 'red';\n    }\n    addHandler(){\n        document.querySelector('#form').addEventListener('submit',this.addData.bind(this))\n        window.addEventListener('load',this.color.bind(this))\n        inputType.addEventListener('change',this.color.bind(this))\n        \n    }\n    \n    \n    delButton(e){\n        this.deleteMovement(e.target.id.slice(4))\n        e.target.closest('.data-field').remove();\n    }\n\n    addDeleteButtonHandler(id){\n        document.querySelector(`#del-${id}`).addEventListener('click',this.delButton.bind(this))\n    }\n}\nconst app = new App();\n"],"names":[],"version":3,"file":"index.62406edb.js.map","sourceRoot":"/__parcel_source_root/"}